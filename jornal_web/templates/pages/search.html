{% extends "../components/gTemplates/base.html" %}
{% load static %}

{%block main%}
    <main id="search">
        <div id="search_container">
            <div id="search_filters">
                {% comment %} Barra de busca {% endcomment %}
                {% include '../components/atoms/input.html' with type='search' id='input_search' name='input_search' placeholder=keySearch|default:"Pesquisar..." icon='media/icons/IconSearch.svg' width='80%'%}
                

                {% comment %} modal filtrar {% endcomment %}
                {% include '../components/molecules/modalFilters.html' with tags=tags alltags=tags %}

                {% comment %} botão filtrar {% endcomment %}
                {% include "../components/atoms/filter.html" with class="filters_button" content="Filtrar" fontSize="25px" width="116px" height="44px" font="PoppinsLight" icon="media/icons/iconFilter.svg" buttonColor="--colorBackground"  onclick="handleModal('modalFilters', 'open', true)"%}

            </div>

            <div class="search_results">
                <div class="results_title">
                    <h2>{{posts|length}} RESULTADOS PARA “{{keySearch}}”</h2>
                </div>
                
                {% comment %} Posts {% endcomment %}
                {% for post in posts%}
                    {% include "../components/molecules/postRow.html" with title=post.title description=post.description author=post.author created_at=post.created_at image=post.image %}
                {% endfor %}

            </div>
        </div>
        {% comment %} {% if posts.paginator.num_page > 1%} {% endcomment %}
            {% include "../components/atoms/pagination.html" with selected='1' pageSearchKeyWord=pageSearchKeyWord posts=paginator %}
        {% comment %} {%endif%} {% endcomment %}
    </main>
{% endblock %}